# Cock Hero Player - USER'S GUIDE

## Installation
### Download (and target location)
1. Create a directory on your disk where you want to install the player (it could be anywhere you like - e.g. *C:\\ch-apps\\player\\* )
2. Download the CH Player repository from [GitHub](https://github.com/ch-apps/player)  (it always maintains the latest version)
   * Click the green button `<> Code` 
   * Click on the `Download ZIP` option
3. Extract the downloaded ZIP file content into your directory created in step 1
4. Now you are ready to launch your CH Player. Do it by opening *index.html* page in your preffered web browser (double-clicking it should launch it in default browser on most systems)

## Basic Usage

## Files Structure Description
### Playlist
Playlist file keeps the pre-configured "chain" of video files, audio files and beat files to be played (in a form of the regular CH game). Files are played one by one as they are listed in the playlist (audio with beats paralel to the video stream).
#### JSON schema
#### Example

### BeatFile
BeatFile keeps the configuration for the "beat-meter". It is linked to its audio track. Could be either SIMPLE (in such a case the beat-meter is autogenerated based on provided song tempo) or with exact TIMESTAMPS and MESSAGES definition for the beat-meter.
#### BeatFile SIMPLE
#### BeatFile with TIMESTAMPS and MESSAGES
#### JSON vs. JS
CH Player supports both formats.\  
JS format (.js) is regular javascript program, even though (in this specific case) it holds only assignement of DATA variable to the beat-data-object (DATA={...}).\ 
JSON format (.json) stands for JavaScript Object Notation. JSON is a lightweight format for storing and transporting data. So it holds also the beat-data-object {...}, but not assigned already to javascrip variable as in case of JS.\  
**The content of JS and JSON BeatFiles differs only in the initial string `DATA=` (present only in .js files), all the rest is the same.**\ 
Why the two formats then? The reason is in the cross-origin restrictions (CORS). By default, browsers prevent web pages from accessing files on the local disk due to security concerns. When running CH Player from local disk with JSON BeatFiles (linked from Playlist) stored also locally - they won't be allowed to be read by the script because of CORS. And here comes the JS "work-around" as the easiest way to by-pass the issue (as the script / JS file could be read without any tweaking).\  
There are also other ways to work around this:
* temporarily disable CORS enforcement in your browser (easy, but not safe / recommended - remember to re-enable this setting once youâ€™re back in on-line world)
* run the player from a local web server. This avoids cross-origin restrictions entirely, but requires additional SW to install and run (secure, but might be quite complex)
#### How to disable CORS enforcement in the browser
##### Firefox
1. Type `about:config` in the Firefox address bar and press Enter.
2. Click "Accept the Risk and Continue".
3. Search for: `security.fileuri.strict_origin_policy`
4. Double-click it to set it to `false`.
##### Chrome
1. Close All Chrome Instances (Make sure all Chrome windows are completely closed).
2. Run Chrome with the --disable-web-security Flag:
   * On Windows: Open the Command Prompt and run the following command: `start chrome --disable-web-security --user-data-dir="C:/chrome-dev"`
   * On macOS: Open the Terminal and run the following command: `open -na "Google Chrome" --args --disable-web-security --user-data-dir="/tmp/chrome-dev"`
   * On Linux: Open a terminal and run the following command: `google-chrome --disable-web-security --user-data-dir="/tmp/chrome-dev"`
      * disable-web-security: Disables CORS enforcement.
      * user-data-dir: Creates a temporary user profile for this session to prevent affecting your main Chrome profile.
4. Access Your Page: Navigate to your local HTML file or development URL in the browser window that opens.
#### How to run the player from a local web server
This is "out of the scope" for the purpose of this manual. Search the web for the guides how to do that.

### BeatPatterns and SongStructure
